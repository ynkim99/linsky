<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linksy Combined</title>
    
    <!-- 부트스트랩 아이콘 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- css 가저오는 곳 -->
	<!-- 메뉴바랑 css 합쳐서 하나만 가져옴 -->
    <link rel="stylesheet" href="/css/searchbar.css">
</head>
<body>
    <div class="page">
        <!-- 메뉴바 -->
        <div class="menu_bar">
            <div class="menubar_header"></div>
            <div class="logo_img">
                <img alt="Logo" src="images/logo/blacklogo.png">
            </div>
            <div class="margin_logo2menu"></div>
            <div class="menu_content_container_list">
                <div class="menu_content_container">
                    <a href="#"> 
                        <div class="menu_icon_img">
                            <i class="bi bi-house-door"></i>
                        </div>
                        <div class="menu_content">홈</div>
                    </a>
                </div>
                <div class="menu_content_container">
                    <a href="#"> 
                        <div class="menu_icon_img">
                            <i class="bi bi-search"></i>
                        </div>
                        <div class="menu_content">검색</div>
                    </a>
                </div>
                <div class="menu_content_container">
                    <a href="#"> 
                        <div class="menu_icon_img">
                            <i class="bi bi-pencil"></i>
                        </div>
                        <div class="menu_content">작성</div>
                    </a>
                </div>
                <div class="menu_content_container">
                    <a href="#"> 
                        <div class="menu_icon_img">
                            <i class="bi bi-person"></i>
                        </div>
                        <div class="menu_content">프로필</div>
                    </a>
                </div>
                <div class="menu_content_container">
                    <a href="#"> 
                        <div class="menu_icon_img">
                            <i class="bi bi-bell"></i>
                        </div>
                        <div class="menu_content">알림</div>
                    </a>
                </div>
                <div class="menu_content_container">
                    <a href="#"> 
                        <div class="menu_icon_img">
                            <i class="bi bi-gear"></i>
                        </div>
                        <div class="menu_content">설정</div>
                    </a>
                </div>
                <div class="menu_content_container">
                    <a href="#"> 
                        <div class="menu_icon_img">
                            <i class="bi bi-question-circle"></i>
                        </div>
                        <div class="menu_content">Q & A</div>
                    </a>
                </div>
            </div>
            <div class="menu_bottom_margin"></div>
        </div>

        <!-- 메인 컨텐츠 -->
        <div class="search_page">
            <div class="header">
                <div class="search-container">
                	<form action="/search" method="get" class="search-form">
                    	<input type="text" class="search-bar" placeholder="Search..." value="${keyword}">
                    	<button class="search-button">Search</button>
                	</form>
                </div>
            </div>
            <div class="content">
                <!-- 선택 탭 -->
                <div class="tabs">
                    <button class="tab-button active" onclick="showTab('account')">Account</button>
                    <button class="tab-button" onclick="showTab('hashtag')">Hashtag</button>
                    <button class="tab-button" onclick="showTab('feed')">Feed</button>
                </div>

                <!-- 탭 내용물 -->
                <div class="tab-content">
                    <div id="account" class="tab-panel active">
                        <h2>Account Content</h2>
                        <ul>
		                    <li th:each="member : ${members}">
		                        <img th:src="${member.user_img}" alt="Profile" width="50" height="50">
		                        <span th:text="${member.user_name}"></span>
		                        <!--  <span th:text="${member.user_nickname}"></span>-->
		                        <p th:text="${member.user_introduce}"></p>
		                    </li>
		                </ul>
                    </div>
                    <div id="hashtag" class="tab-panel">
                        <h2>Hashtag Content</h2>
						<div class="grid">
                            <div class="grid-item" th:each="feed : ${hashtagFeeds}">
					            <img th:each="image : ${feed.images}" th:src="${image.img_name}" alt="Feed Image">
					            <p th:text="${feed.feed_content}">Feed Content</p>
					            <span th:text="${feed.feed_time}">Feed Time</span>
					            <span th:text="'Likes: ' + ${feed.like_amount}">Likes</span>
					        </div>
                        </div>
                    </div>
                    <div id="feed" class="tab-panel">
                        <h2>Feed Content</h2>
                        <div class="grid">
                            <div class="grid-item" th:each="feed : ${feeds}">
		                        <img th:each="image : ${feed.images}" th:src="${image.img_name}" alt="Feed Image">
		                        <p th:text="${feed.feed_content}">Feed Content</p>
		                        <span th:text="${feed.feed_time}">Feed Time</span>
		                        <span th:text="'Likes: ' + ${feed.like_amount}">Likes</span>
		                    </div>                        
						</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
<script>
// 탭 선택 js
function showTab(tabId) {
    // 모든 탭 버튼 비활성화
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(button => button.classList.remove('active'));

    // 모든 탭 패널 숨김
    const tabPanels = document.querySelectorAll('.tab-panel');
    tabPanels.forEach(panel => panel.classList.remove('active'));

    // 선택된 탭 버튼과 패널 활성화
    document.querySelector(`[onclick="showTab('${tabId}')"]`).classList.add('active');
    document.getElementById(tabId).classList.add('active');
}
</script>

</html>
